"use strict";(self.webpackChunkElectronics_App=self.webpackChunkElectronics_App||[]).push([[467],{2848:(I,c,l)=>{l.r(c),l.d(c,{LoginComponent:()=>k});var d=l(177),i=l(4341),g=l(8934),e=l(4438),u=l(5935),p=l(231),_=l(3100);function f(n,a){if(1&n&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"json"),e.k0s()),2&n){const o=e.XpG();e.R7$(),e.JRh(e.bMT(2,1,o.ErrorMessage))}}function E(n,a){1&n&&(e.j41(0,"p"),e.EFF(1,"You must enter a email"),e.k0s())}function v(n,a){1&n&&(e.j41(0,"p"),e.EFF(1,"Please enter a valid email"),e.k0s())}function h(n,a){if(1&n&&(e.j41(0,"div",26),e.DNE(1,E,2,0,"p",12)(2,v,2,0,"p",12),e.k0s()),2&n){let o,t;const r=e.XpG();e.R7$(),e.Y8G("ngIf",null==(o=r.login.get("Email"))||null==o.errors?null:o.errors.required),e.R7$(),e.Y8G("ngIf",null==(t=r.login.get("Email"))||null==t.errors?null:t.errors.email)}}function b(n,a){1&n&&(e.j41(0,"p"),e.EFF(1,"You must enter a password"),e.k0s())}function F(n,a){if(1&n&&(e.j41(0,"div",26),e.DNE(1,b,2,0,"p",12),e.k0s()),2&n){let o;const t=e.XpG();e.R7$(),e.Y8G("ngIf",null==(o=t.login.get("password"))||null==o.errors?null:o.errors.required)}}function C(n,a){1&n&&e.nrm(0,"i",27)}let k=(()=>{class n{constructor(o,t,r,s,m){this._FormBuilder=o,this._ScrollService=t,this._spinner=r,this._AuthService=s,this.Router=m,this.IsLoading=!1,this.ErrorMessage="",this.login=this._FormBuilder.group({Email:["",[i.k0.required,i.k0.email]],password:["",[i.k0.required]]})}OnSubmit(){this._spinner.show(),this._AuthService.SetLogin(this.login.value).subscribe({next:o=>{console.log(o),"user logged in successfully"===o.message&&(localStorage.setItem("token",o.token),this.IsLoading=!0,this.Router.navigate(["/home"]),o?this._spinner.hide():this._spinner.show())},error:o=>{console.log(o),this.ErrorMessage=o.error.message,this._spinner.hide()}})}ngOnInit(){setTimeout(()=>this._ScrollService.scrollToElement("scrollTarget"),0)}static#e=this.\u0275fac=function(t){return new(t||n)(e.rXU(i.ok),e.rXU(u.b),e.rXU(p.D),e.rXU(_.u),e.rXU(g.Ix))};static#n=this.\u0275cmp=e.VBU({type:n,selectors:[["app-login"]],standalone:!0,features:[e.aNF],decls:40,vars:5,consts:[["id","scrollTarget"],[2,"min-height","100vh","display","flex","align-items","center"],[1,"px-4","py-5","px-md-3","text-center","text-lg-start","w-100",2,"background-color","hsl(0, 0%, 96%)"],[1,"container"],[1,"row","gx-lg-5","align-items-start"],[1,"col-md-6","col-lg-6","d-none","d-lg-block"],["src","https://res-console.cloudinary.com/drkevmgk2/media_explorer_thumbnails/c706dbb1f80268fe5a69af871312a3cb/detailed","alt","login form",1,"img-fluid",2,"border-radius","1rem 0 0 1rem"],[1,"col-lg-6","mb-5","mb-lg-0"],[1,"card","h-100"],[1,"card-body","py-5","px-md-5"],[1,"mb-2"],[1,"d-flex","justify-content-center","align-items-center"],[4,"ngIf"],[3,"ngSubmit","formGroup"],[1,"form-outline","mb-4"],["for","form3Example3",1,"form-label"],["type","email","id","form3Example3","placeholder","Email address","formControlName","Email",1,"form-control"],["class","bg-error",4,"ngIf"],["for","form3Example4",1,"form-label"],["type","password","id","form3Example4","placeholder","Password","formControlName","password",1,"form-control"],[1,"w-100","d-flex","justify-content-between","align-items-center","mb-4"],["type","submit",1,"main-btn","w-25"],["class","fas fa-spinner fa-spin",4,"ngIf"],[1,"w-100","d-flex","justify-content-center"],[1,"mb-0"],["routerLink","/register"],[1,"bg-error"],[1,"fas","fa-spinner","fa-spin"]],template:function(t,r){if(1&t&&(e.j41(0,"div",0)(1,"section",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e.nrm(6,"img",6),e.k0s(),e.j41(7,"div",7)(8,"div",8)(9,"div",9)(10,"div")(11,"h2",10),e.EFF(12,"Log in to Exclusive"),e.k0s(),e.j41(13,"p"),e.EFF(14,"Enter your details below"),e.k0s()(),e.j41(15,"div",11),e.DNE(16,f,3,3,"span",12),e.k0s(),e.j41(17,"form",13),e.bIt("ngSubmit",function(){return r.OnSubmit()}),e.j41(18,"div",14)(19,"label",15),e.EFF(20,"Email address"),e.k0s(),e.nrm(21,"input",16),e.DNE(22,h,3,2,"div",17),e.k0s(),e.j41(23,"div",14)(24,"label",18),e.EFF(25,"Password"),e.k0s(),e.nrm(26,"input",19),e.DNE(27,F,2,1,"div",17),e.k0s(),e.j41(28,"div",20)(29,"button",21),e.EFF(30," Login "),e.DNE(31,C,1,0,"i",22),e.k0s(),e.j41(32,"div")(33,"span"),e.EFF(34,"Forgot password?"),e.k0s()()(),e.j41(35,"div",23)(36,"p",24),e.EFF(37,"Create an account? "),e.j41(38,"a",25),e.EFF(39,"Create"),e.k0s()()()()()()()()()()()()),2&t){let s,m;e.R7$(16),e.Y8G("ngIf",""!=r.ErrorMessage),e.R7$(),e.Y8G("formGroup",r.login),e.R7$(5),e.Y8G("ngIf",(null==(s=r.login.get("Email"))?null:s.errors)&&(null==(s=r.login.get("Email"))?null:s.touched)),e.R7$(5),e.Y8G("ngIf",(null==(m=r.login.get("password"))?null:m.errors)&&(null==(m=r.login.get("password"))?null:m.touched)),e.R7$(4),e.Y8G("ngIf",r.IsLoading)}},dependencies:[d.MD,d.bT,d.TG,g.iI,g.Wk,i.X1,i.qT,i.me,i.BC,i.cb,i.j4,i.JD],styles:[".bg-error[_ngcontent-%COMP%]{background-color:#eee;padding:3px}.form-control[_ngcontent-%COMP%]{border:none!important;border-bottom:1px solid #EA4335!important;border-radius:0!important}"]})}return n})()}}]);