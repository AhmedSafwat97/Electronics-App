"use strict";(self.webpackChunkElectronics_App=self.webpackChunkElectronics_App||[]).push([[213],{3240:(v,p,o)=>{o.d(p,{h:()=>d});var c=o(177),u=o(8934),t=o(4438),e=o(4705),l=o(5794);const h=n=>["/product-details",n],r=n=>({active:n});let d=(()=>{class n{constructor(i,a,s,_){this._ProductService=i,this._Router=a,this._Renderer2=s,this.toastr=_,this.Quantity=0,this.activeIndices=new Set,this.items=[],this.IsFav=!1}isActive(i){return this.activeIndices.has(i)}toggleActive(i){this.activeIndices.has(i)?(this.activeIndices.delete(i),this.RemoveFromFav(this.Product._id),console.log("delete")):(this.activeIndices.add(i),this.IsFav=!0,this.AddToFav(this.Product._id),console.log("add"))}Discount(i,a){if(0===a)throw new Error("PriceBeforeDiscount cannot be zero.");return Math.trunc(100-i/a*100)}AddToCart(i,a){this.Quantity++,localStorage.getItem("token")?(this._Renderer2.setAttribute(a,"disabled","true"),this._ProductService.AddProductToCart(i,this.Quantity).subscribe({next:s=>{this.toastr.success("Click to go to cart",s.message).onTap.subscribe(()=>{this._Router.navigate(["/cart"])}),"Product added successfully"===s.message&&(this._ProductService.CartItems.next(s.totalQuantity),console.log(this._ProductService.CartItems))},error:s=>{"Not authorized, token failed"===s.message&&this._Router.navigate(["/login"])}})):this._Router.navigate(["/login"])}AddToFav(i){this.Quantity++,localStorage.getItem("token")?this._ProductService.AddProductToFav(i).subscribe({next:a=>{this.toastr.success("Click to go to wishlist",a.message).onTap.subscribe(()=>{this._Router.navigate(["/wishlist"])}),console.log(a)},error:a=>{"Not authorized, token failed"===a.message&&this._Router.navigate(["/login"])}}):this._Router.navigate(["/login"])}RemoveFromFav(i){this.Quantity++,localStorage.getItem("token")?this._ProductService.RemoveProductFromFav(i).subscribe({next:a=>{console.log(a),this.toastr.success("Click to go to wishlist",a.message).onTap.subscribe(()=>{this._Router.navigate(["/wishlist"])})},error:a=>{"Not authorized, token failed"===a.message&&this._Router.navigate(["/login"])}}):this._Router.navigate(["/login"])}static#t=this.\u0275fac=function(a){return new(a||n)(t.rXU(e.b),t.rXU(u.Ix),t.rXU(t.sFG),t.rXU(l.tw))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-product-cart"]],inputs:{Product:"Product",i:"i"},standalone:!0,features:[t.aNF],decls:26,vars:12,consts:[["btn",""],[1,"product",2,"position","relative"],[3,"routerLink"],[1,"w-100","h-100"],["alt","Sunset Over the Sea",1,"card-img-top","product-img",3,"src"],[1,"card-body","mt-2"],[1,"d-flex","align-items-center"],[1,"text-muted","mx-2","text-decoration-line-through"],[1,"d-flex","justify-content-between","align-items-center"],[1,"fa-solid","fa-star","rating"],[1,"mx-2"],[1,"ToCart"],[1,"w-100","btn","btn-danger",3,"click"],[1,"fa-solid","fa-cart-plus"],[1,"d-flex","justify-content-between","align-items-center","p-3","w-100",2,"position","absolute","top","0"],[1,"bg-danger","text-white","px-2"],[1,"fa-solid","fa-heart",3,"click","ngClass"]],template:function(a,s){if(1&a){const _=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"div",3),t.nrm(3,"img",4),t.k0s(),t.j41(4,"div",5)(5,"h6"),t.EFF(6),t.k0s(),t.j41(7,"div",6)(8,"span"),t.EFF(9),t.k0s(),t.j41(10,"span",7),t.EFF(11),t.k0s()(),t.j41(12,"div",8)(13,"div"),t.nrm(14,"i",9),t.j41(15,"span",10),t.EFF(16),t.k0s()()()()(),t.j41(17,"div",11)(18,"button",12,0),t.bIt("click",function(){t.eBV(_);const P=t.sdS(19);return t.Njj(s.AddToCart(s.Product._id,P))}),t.nrm(20,"i",13),t.EFF(21," Add To Cart "),t.k0s()(),t.j41(22,"div",14)(23,"span",15),t.EFF(24),t.k0s(),t.j41(25,"i",16),t.bIt("click",function(){return t.eBV(_),t.Njj(s.toggleActive(s.i))}),t.k0s()()()}2&a&&(t.R7$(),t.Y8G("routerLink",t.eq3(8,h,s.Product._id)),t.R7$(2),t.Y8G("src",s.Product.images[0],t.B4B),t.R7$(3),t.JRh(s.Product.Name),t.R7$(3),t.JRh(s.Product.price),t.R7$(2),t.JRh(s.Product.PriceBeforeDiscount),t.R7$(5),t.JRh(s.Product.Rating),t.R7$(8),t.SpI("",s.Discount(s.Product.price,s.Product.PriceBeforeDiscount),"%"),t.R7$(),t.Y8G("ngClass",t.eq3(10,r,s.isActive(s.i))))},dependencies:[c.MD,c.YU,u.iI,u.Wk]})}return n})()},6213:(v,p,o)=>{o.r(p),o.d(p,{CatygoryPageComponent:()=>d});var c=o(177),u=o(8934),t=o(3240),e=o(4438),l=o(231),h=o(4705);function r(n,m){if(1&n&&(e.j41(0,"div",6),e.nrm(1,"app-product-cart",7),e.k0s()),2&n){const i=m.$implicit,a=m.index;e.R7$(),e.Y8G("Product",i)("i",a)}}let d=(()=>{class n{constructor(i,a,s,_){this._spinner=i,this._Router=a,this._ProductService=s,this._ActivatedRoute=_,this.Products=[],this.Name=this._ActivatedRoute.snapshot.paramMap.get("Name")}ngOnInit(){this._spinner.show(),this._ProductService.GetCategoryProducts(this._ActivatedRoute.snapshot.paramMap.get("Name")).subscribe({next:i=>{this.Products=i.data,i?this._spinner.hide():this._spinner.show()},error:i=>{console.log(i)}})}static#t=this.\u0275fac=function(a){return new(a||n)(e.rXU(l.D),e.rXU(u.Ix),e.rXU(h.b),e.rXU(u.nX))};static#e=this.\u0275cmp=e.VBU({type:n,selectors:[["app-catygory-page"]],standalone:!0,features:[e.aNF],decls:8,vars:2,consts:[[1,"my-5","container"],[1,"mb-3"],[1,"fw-bold"],[1,"mt-5"],[1,"d-flex","flex-wrap","justify-content-center","align-items-center","flex-wrap"],["style","position: relative;",4,"ngFor","ngForOf"],[2,"position","relative"],[3,"Product","i"]],template:function(a,s){1&a&&(e.j41(0,"section",0)(1,"p",1),e.EFF(2,"Home / "),e.j41(3,"span",2),e.EFF(4),e.k0s()(),e.j41(5,"div",3)(6,"div",4),e.DNE(7,r,2,2,"div",5),e.k0s()()()),2&a&&(e.R7$(4),e.JRh(s.Name),e.R7$(3),e.Y8G("ngForOf",s.Products))},dependencies:[c.MD,c.Sq,u.iI,t.h]})}return n})()},4705:(v,p,o)=>{o.d(p,{b:()=>e});var c=o(1626),u=o(4412),t=o(4438);let e=(()=>{class l{constructor(r){this._HttpClient=r,this.Token=`Bearer ${localStorage.getItem("token")}`,this.CartItems=new u.t(0)}GetAllProduct(r=8,d=1){return this._HttpClient.get(`https://web-api-ecommerce-byahmedsafwat.vercel.app/api/v1/Product?page=${d}&limit=${r}`)}filterProduct(r=null,d="",n=null,m=null,i=null){return this._HttpClient.get(`https://web-api-ecommerce-byahmedsafwat.vercel.app/api/v1/Product?name=${r}&categoryName=${d}&brandName=${n}&maxPrice=${m}&minPrice=${i}`)}SearchProducts(r){return this._HttpClient.get(`https://web-api-ecommerce-byahmedsafwat.vercel.app/api/v1/Product?name=${r}`)}GetSaleProduct(r,d){return this._HttpClient.get(`https://web-api-ecommerce-byahmedsafwat.vercel.app/api/v1/Product/sale/discount?page=${d||1}&limit=${r||8}`)}GetBestseller(){return this._HttpClient.get("https://web-api-ecommerce-byahmedsafwat.vercel.app/api/v1/Product/best/seller?limit=4")}GetAllCategories(){return this._HttpClient.get("https://web-api-ecommerce-byahmedsafwat.vercel.app/api/v1/categories")}GetCategoryBrand(r){return this._HttpClient.get(`https://web-api-ecommerce-byahmedsafwat.vercel.app/api/v1/Categorybrands/${r}`)}GetCategoryProducts(r){return this._HttpClient.get(`https://web-api-ecommerce-byahmedsafwat.vercel.app/api/v1/Product?categoryName=${r}`)}GetAllBrands(){return this._HttpClient.get("https://web-api-ecommerce-byahmedsafwat.vercel.app/api/v1/Brand")}GetProductDetails(r){return this._HttpClient.get(`https://web-api-ecommerce-byahmedsafwat.vercel.app/api/v1/Product/${r}`)}GetRelatedProduct(r){return this._HttpClient.get(`https://web-api-ecommerce-byahmedsafwat.vercel.app/api/v1/product/related/${r}`)}AddProductToCart(r,d){return this._HttpClient.post("https://web-api-ecommerce-byahmedsafwat.vercel.app/api/v1/Cart/",{},{headers:new c.Lr({Authorization:this.Token,productid:r,quantity:d.toString()})})}GetCartProducts(){return this._HttpClient.get("https://web-api-ecommerce-byahmedsafwat.vercel.app/api/v1/Cart/",{headers:new c.Lr({Authorization:this.Token})})}RemoveCartProducts(r){return this._HttpClient.delete("https://web-api-ecommerce-byahmedsafwat.vercel.app/api/v1/Cart/",{headers:new c.Lr({Authorization:this.Token,ProductId:r})})}AddProductToFav(r){return this._HttpClient.post("https://web-api-ecommerce-byahmedsafwat.vercel.app/api/v1/Wishlist",{},{headers:new c.Lr({Authorization:this.Token,productid:r})})}RemoveProductFromFav(r){return this._HttpClient.delete("  https://web-api-ecommerce-byahmedsafwat.vercel.app/api/v1/Wishlist/",{headers:new c.Lr({Authorization:this.Token,productid:r})})}GetFavProducts(){return this._HttpClient.get("https://web-api-ecommerce-byahmedsafwat.vercel.app/api/v1/Wishlist/",{headers:new c.Lr({Authorization:this.Token})})}GetOrdersProducts(){return this._HttpClient.get("https://web-api-ecommerce-byahmedsafwat.vercel.app/api/v1/Cart/ConfirmedOders",{headers:new c.Lr({Authorization:this.Token})})}static#t=this.\u0275fac=function(d){return new(d||l)(t.KVO(c.Qq))};static#e=this.\u0275prov=t.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})()},231:(v,p,o)=>{o.d(p,{D:()=>t});var c=o(4438),u=o(6554);let t=(()=>{class e{constructor(h){this.spinner=h}show(){this.spinner.show()}hide(){this.spinner.hide()}static#t=this.\u0275fac=function(r){return new(r||e)(c.KVO(u.ex))};static#e=this.\u0275prov=c.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})()}}]);