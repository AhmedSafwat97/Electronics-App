"use strict";(self.webpackChunkElectronics_App=self.webpackChunkElectronics_App||[]).push([[184],{3240:(g,_,a)=>{a.d(_,{h:()=>l});var d=a(177),h=a(8934),e=a(4438),t=a(4705),p=a(5794);const v=u=>["/product-details",u],i=u=>({active:u});let l=(()=>{class u{constructor(o,n,r,s){this._ProductService=o,this._Router=n,this._Renderer2=r,this.toastr=s,this.Quantity=0,this.activeIndices=new Set,this.items=[],this.IsFav=!1}isActive(o){return this.activeIndices.has(o)}toggleActive(o){this.activeIndices.has(o)?(this.activeIndices.delete(o),this.RemoveFromFav(this.Product._id),console.log("delete")):(this.activeIndices.add(o),this.IsFav=!0,this.AddToFav(this.Product._id),console.log("add"))}Discount(o,n){if(0===n)throw new Error("PriceBeforeDiscount cannot be zero.");return Math.trunc(100-o/n*100)}AddToCart(o,n){this.Quantity++,localStorage.getItem("token")?(this._Renderer2.setAttribute(n,"disabled","true"),this._ProductService.AddProductToCart(o,this.Quantity).subscribe({next:r=>{this.toastr.success("Click to go to cart",r.message).onTap.subscribe(()=>{this._Router.navigate(["/cart"])}),"Product added successfully"===r.message&&(this._ProductService.CartItems.next(r.totalQuantity),console.log(this._ProductService.CartItems))},error:r=>{"Not authorized, token failed"===r.message&&this._Router.navigate(["/login"])}})):this._Router.navigate(["/login"])}AddToFav(o){this.Quantity++,localStorage.getItem("token")?this._ProductService.AddProductToFav(o).subscribe({next:n=>{this.toastr.success("Click to go to wishlist",n.message).onTap.subscribe(()=>{this._Router.navigate(["/wishlist"])}),console.log(n)},error:n=>{"Not authorized, token failed"===n.message&&this._Router.navigate(["/login"])}}):this._Router.navigate(["/login"])}RemoveFromFav(o){this.Quantity++,localStorage.getItem("token")?this._ProductService.RemoveProductFromFav(o).subscribe({next:n=>{console.log(n),this.toastr.success("Click to go to wishlist",n.message).onTap.subscribe(()=>{this._Router.navigate(["/wishlist"])})},error:n=>{"Not authorized, token failed"===n.message&&this._Router.navigate(["/login"])}}):this._Router.navigate(["/login"])}static#t=this.\u0275fac=function(n){return new(n||u)(e.rXU(t.b),e.rXU(h.Ix),e.rXU(e.sFG),e.rXU(p.tw))};static#e=this.\u0275cmp=e.VBU({type:u,selectors:[["app-product-cart"]],inputs:{Product:"Product",i:"i"},standalone:!0,features:[e.aNF],decls:26,vars:12,consts:[["btn",""],[1,"product",2,"position","relative"],[3,"routerLink"],[1,"w-100","h-100"],["alt","Sunset Over the Sea",1,"card-img-top","product-img",3,"src"],[1,"card-body","mt-2"],[1,"d-flex","align-items-center"],[1,"text-muted","mx-2","text-decoration-line-through"],[1,"d-flex","justify-content-between","align-items-center"],[1,"fa-solid","fa-star","rating"],[1,"mx-2"],[1,"ToCart"],[1,"w-100","btn","btn-danger",3,"click"],[1,"fa-solid","fa-cart-plus"],[1,"d-flex","justify-content-between","align-items-center","p-3","w-100",2,"position","absolute","top","0"],[1,"bg-danger","text-white","px-2"],[1,"fa-solid","fa-heart",3,"click","ngClass"]],template:function(n,r){if(1&n){const s=e.RV6();e.j41(0,"div",1)(1,"div",2)(2,"div",3),e.nrm(3,"img",4),e.k0s(),e.j41(4,"div",5)(5,"h6"),e.EFF(6),e.k0s(),e.j41(7,"div",6)(8,"span"),e.EFF(9),e.k0s(),e.j41(10,"span",7),e.EFF(11),e.k0s()(),e.j41(12,"div",8)(13,"div"),e.nrm(14,"i",9),e.j41(15,"span",10),e.EFF(16),e.k0s()()()()(),e.j41(17,"div",11)(18,"button",12,0),e.bIt("click",function(){e.eBV(s);const m=e.sdS(19);return e.Njj(r.AddToCart(r.Product._id,m))}),e.nrm(20,"i",13),e.EFF(21," Add To Cart "),e.k0s()(),e.j41(22,"div",14)(23,"span",15),e.EFF(24),e.k0s(),e.j41(25,"i",16),e.bIt("click",function(){return e.eBV(s),e.Njj(r.toggleActive(r.i))}),e.k0s()()()}2&n&&(e.R7$(),e.Y8G("routerLink",e.eq3(8,v,r.Product._id)),e.R7$(2),e.Y8G("src",r.Product.images[0],e.B4B),e.R7$(3),e.JRh(r.Product.Name),e.R7$(3),e.JRh(r.Product.price),e.R7$(2),e.JRh(r.Product.PriceBeforeDiscount),e.R7$(5),e.JRh(r.Product.Rating),e.R7$(8),e.SpI("",r.Discount(r.Product.price,r.Product.PriceBeforeDiscount),"%"),e.R7$(),e.Y8G("ngClass",e.eq3(10,i,r.isActive(r.i))))},dependencies:[d.MD,d.YU,h.iI,h.Wk]})}return u})()},4184:(g,_,a)=>{a.r(_),a.d(_,{ProductDetailsComponent:()=>P});var d=a(8934),h=a(177),e=a(3240),t=a(4438),p=a(5935),v=a(4705),i=a(5794),l=a(231);function u(o,n){if(1&o){const r=t.RV6();t.j41(0,"div",25)(1,"div",26),t.bIt("click",function(){t.eBV(r);const c=t.XpG();return t.Njj(c.goTop())}),t.nrm(2,"app-product-cart",27),t.k0s()()}if(2&o){const r=n.$implicit,s=n.index;t.R7$(2),t.Y8G("Product",r)("i",s)}}let P=(()=>{class o{constructor(r,s,c,m,f,b,C){this._ActivatedRoute=r,this._ScrollService=s,this._ProductService=c,this._Router=m,this._Renderer2=f,this.toastr=b,this._spinner=C,this.Product={},this.relatedProducts=[],this.quantity=1}goTop(){this._spinner.show(),setTimeout(()=>this._ScrollService.scrollToElement("scrollTarget"),0),this._ActivatedRoute.params.subscribe(r=>{this._ProductService.GetProductDetails(r.id).subscribe({next:s=>{this.Product=s.data,s?this._spinner.hide():this._spinner.show()},error:s=>{}})})}increaseQuantity(){this.quantity++}decreaseQuantity(){this.quantity>1&&this.quantity--}AddToCart(r){localStorage.getItem("token")?this._ProductService.AddProductToCart(r,this.quantity).subscribe({next:s=>{this.toastr.success("Click to go to cart",s.message).onTap.subscribe(()=>{this._Router.navigate(["/cart"])})},error:s=>{"Not authorized, token failed"===s.message&&this._Router.navigate(["/login"])}}):this._Router.navigate(["/login"])}AddToFav(r){this._ProductService.AddProductToFav(r).subscribe({next:s=>{this.toastr.success("Click to go to wishlist",s.message).onTap.subscribe(()=>{this._Router.navigate(["/wishlist"])}),console.log(s)},error:s=>{"Not authorized, token failed"===s.message&&this._Router.navigate(["/login"])}})}ngOnInit(){this._spinner.show(),setTimeout(()=>this._ScrollService.scrollToElement("scrollTarget"),0),this._ActivatedRoute.params.subscribe(r=>{this._ProductService.GetProductDetails(r.id).subscribe({next:s=>{this.Product=s.data,s?this._spinner.hide():this._spinner.show()},error:s=>{}})}),this._ProductService.GetRelatedProduct(this._ActivatedRoute.snapshot.paramMap.get("id")).subscribe({next:r=>{this.relatedProducts=r.data,console.log(this.relatedProducts)},error:r=>{console.log(r)}})}static#t=this.\u0275fac=function(s){return new(s||o)(t.rXU(d.nX),t.rXU(p.b),t.rXU(v.b),t.rXU(d.Ix),t.rXU(t.sFG),t.rXU(i.tw),t.rXU(l.D))};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["app-product-details"]],standalone:!0,features:[t.aNF],decls:47,vars:11,consts:[["id","scrollTarget",1,"container"],[1,"my-5"],[1,"mb-3"],[1,"fw-bold"],[1,"row"],[1,"col-12","col-md-12","col-lg-7"],["alt","",3,"src"],[1,"col-12","col-lg-4"],[1,"text-uppercase","fw-bold","mb-2"],[1,"fa-solid","fa-star","rating"],[1,"mx-2"],[1,"d-flex","align-items-center"],[1,"fs-4"],[1,"text-muted","mx-2","text-decoration-line-through","fs-4"],[1,"d-flex","justify-content-between","align-items-center"],[1,"main-btn",2,"background-color","transparent","color","black","outline","1px solid black",3,"click"],[1,"main-btn",3,"click"],[1,"fa-solid","fa-cart-plus"],[1,"wishlist",3,"click"],[1,"fa-regular","fa-heart"],[1,"w-100","d-flex","justify-content-center","mt-4"],["src","./assets/prodetails.png","alt","",1,"w-100"],[1,"mt-5"],[1,"d-flex","flex-wrap","justify-content-center","align-items-center","flex-wrap"],["style","position: relative;",4,"ngFor","ngForOf"],[2,"position","relative"],[3,"click"],[3,"Product","i"]],template:function(s,c){1&s&&(t.j41(0,"div",0)(1,"section",1)(2,"p",2),t.EFF(3),t.j41(4,"span",3),t.EFF(5),t.k0s()(),t.j41(6,"div",4)(7,"div",5),t.nrm(8,"img",6),t.k0s(),t.j41(9,"div",7)(10,"div")(11,"h6",8),t.EFF(12),t.k0s(),t.j41(13,"div"),t.nrm(14,"i",9),t.j41(15,"span",10),t.EFF(16),t.k0s()(),t.j41(17,"div",11)(18,"span",12),t.EFF(19),t.k0s(),t.j41(20,"span",13),t.EFF(21),t.k0s()(),t.j41(22,"p"),t.EFF(23),t.k0s(),t.nrm(24,"hr"),t.k0s(),t.j41(25,"div",14)(26,"div")(27,"button",15),t.bIt("click",function(){return c.decreaseQuantity()}),t.EFF(28,"-"),t.k0s(),t.j41(29,"span",10),t.EFF(30),t.k0s(),t.j41(31,"button",16),t.bIt("click",function(){return c.increaseQuantity()}),t.EFF(32,"+"),t.k0s()(),t.j41(33,"button",16),t.bIt("click",function(){return c.AddToCart(c.Product._id)}),t.nrm(34,"i",17),t.EFF(35," Add To Cart "),t.k0s(),t.j41(36,"button",18),t.bIt("click",function(){return c.AddToFav(c.Product._id)}),t.nrm(37,"i",19),t.k0s()(),t.j41(38,"div",20),t.nrm(39,"img",21),t.k0s(),t.nrm(40,"div"),t.k0s()()(),t.j41(41,"section",1)(42,"h4"),t.EFF(43,"Related Products"),t.k0s(),t.j41(44,"div",22)(45,"div",23),t.DNE(46,u,3,2,"div",24),t.k0s()()()()),2&s&&(t.R7$(3),t.Lme("",c.Product.category.Name," / ",c.Product.brand.Name," / "),t.R7$(2),t.JRh(c.Product.Name),t.R7$(3),t.FS9("src",c.Product.images,t.B4B),t.R7$(4),t.JRh(c.Product.Name),t.R7$(4),t.JRh(c.Product.Rating),t.R7$(3),t.JRh(c.Product.price),t.R7$(2),t.JRh(c.Product.PriceBeforeDiscount),t.R7$(2),t.JRh(c.Product.Description),t.R7$(7),t.SpI(" ",c.quantity," "),t.R7$(16),t.Y8G("ngForOf",c.relatedProducts))},dependencies:[h.MD,h.Sq,d.iI,e.h]})}return o})()},4705:(g,_,a)=>{a.d(_,{b:()=>t});var d=a(1626),h=a(4412),e=a(4438);let t=(()=>{class p{constructor(i){this._HttpClient=i,this.Token=`Bearer ${localStorage.getItem("token")}`,this.CartItems=new h.t(0)}GetAllProduct(i=8,l=1){return this._HttpClient.get(`https://web-api-ecommerce-byahmedsafwat.vercel.app/api/v1/Product?page=${l}&limit=${i}`)}filterProduct(i=null,l="",u=null,P=null,o=null){return this._HttpClient.get(`https://web-api-ecommerce-byahmedsafwat.vercel.app/api/v1/Product?name=${i}&categoryName=${l}&brandName=${u}&maxPrice=${P}&minPrice=${o}`)}SearchProducts(i){return this._HttpClient.get(`https://web-api-ecommerce-byahmedsafwat.vercel.app/api/v1/Product?name=${i}`)}GetSaleProduct(i,l){return this._HttpClient.get(`https://web-api-ecommerce-byahmedsafwat.vercel.app/api/v1/Product/sale/discount?page=${l||1}&limit=${i||8}`)}GetBestseller(){return this._HttpClient.get("https://web-api-ecommerce-byahmedsafwat.vercel.app/api/v1/Product/best/seller?limit=4")}GetAllCategories(){return this._HttpClient.get("https://web-api-ecommerce-byahmedsafwat.vercel.app/api/v1/categories")}GetCategoryBrand(i){return this._HttpClient.get(`https://web-api-ecommerce-byahmedsafwat.vercel.app/api/v1/Categorybrands/${i}`)}GetCategoryProducts(i){return this._HttpClient.get(`https://web-api-ecommerce-byahmedsafwat.vercel.app/api/v1/Product?categoryName=${i}`)}GetAllBrands(){return this._HttpClient.get("https://web-api-ecommerce-byahmedsafwat.vercel.app/api/v1/Brand")}GetProductDetails(i){return this._HttpClient.get(`https://web-api-ecommerce-byahmedsafwat.vercel.app/api/v1/Product/${i}`)}GetRelatedProduct(i){return this._HttpClient.get(`https://web-api-ecommerce-byahmedsafwat.vercel.app/api/v1/product/related/${i}`)}AddProductToCart(i,l){return this._HttpClient.post("https://web-api-ecommerce-byahmedsafwat.vercel.app/api/v1/Cart/",{},{headers:new d.Lr({Authorization:this.Token,productid:i,quantity:l.toString()})})}GetCartProducts(){return this._HttpClient.get("https://web-api-ecommerce-byahmedsafwat.vercel.app/api/v1/Cart/",{headers:new d.Lr({Authorization:this.Token})})}RemoveCartProducts(i){return this._HttpClient.delete("https://web-api-ecommerce-byahmedsafwat.vercel.app/api/v1/Cart/",{headers:new d.Lr({Authorization:this.Token,ProductId:i})})}AddProductToFav(i){return this._HttpClient.post("https://web-api-ecommerce-byahmedsafwat.vercel.app/api/v1/Wishlist",{},{headers:new d.Lr({Authorization:this.Token,productid:i})})}RemoveProductFromFav(i){return this._HttpClient.delete("  https://web-api-ecommerce-byahmedsafwat.vercel.app/api/v1/Wishlist/",{headers:new d.Lr({Authorization:this.Token,productid:i})})}GetFavProducts(){return this._HttpClient.get("https://web-api-ecommerce-byahmedsafwat.vercel.app/api/v1/Wishlist/",{headers:new d.Lr({Authorization:this.Token})})}GetOrdersProducts(){return this._HttpClient.get("https://web-api-ecommerce-byahmedsafwat.vercel.app/api/v1/Cart/ConfirmedOders",{headers:new d.Lr({Authorization:this.Token})})}static#t=this.\u0275fac=function(l){return new(l||p)(e.KVO(d.Qq))};static#e=this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})()},231:(g,_,a)=>{a.d(_,{D:()=>e});var d=a(4438),h=a(6554);let e=(()=>{class t{constructor(v){this.spinner=v}show(){this.spinner.show()}hide(){this.spinner.hide()}static#t=this.\u0275fac=function(i){return new(i||t)(d.KVO(h.ex))};static#e=this.\u0275prov=d.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})()}}]);