"use strict";(self.webpackChunkElectronics_App=self.webpackChunkElectronics_App||[]).push([[968],{5968:(P,u,s)=>{s.r(u),s.d(u,{WishlistComponent:()=>f});var a=s(177),d=s(8934),t=s(4438),p=s(4705),l=s(5794),m=s(231);const e=n=>["/product-details",n];function c(n,g){if(1&n){const i=t.RV6();t.j41(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",10),t.nrm(4,"img",11),t.k0s(),t.j41(5,"div",12)(6,"h6"),t.EFF(7),t.k0s(),t.j41(8,"div",13)(9,"span"),t.EFF(10),t.k0s(),t.j41(11,"span",14),t.EFF(12),t.k0s()(),t.j41(13,"div",15)(14,"div"),t.nrm(15,"i",16),t.j41(16,"span",17),t.EFF(17),t.k0s()()()()(),t.j41(18,"div",18)(19,"button",19,1),t.bIt("click",function(){const o=t.eBV(i).$implicit,h=t.sdS(20),C=t.XpG(2);return t.Njj(C.AddToCart(o.product._id,h))}),t.nrm(21,"i",20),t.EFF(22," Add To Cart "),t.k0s()(),t.j41(23,"div",21)(24,"span",22),t.EFF(25),t.k0s(),t.j41(26,"i",23),t.bIt("click",function(){const o=t.eBV(i).$implicit,h=t.XpG(2);return t.Njj(h.RemoveFromFav(o.product._id))}),t.k0s()()()()}if(2&n){const i=g.$implicit,r=t.XpG(2);t.R7$(2),t.Y8G("routerLink",t.eq3(7,e,i.product._id)),t.R7$(2),t.Y8G("src",i.product.images[0],t.B4B),t.R7$(3),t.JRh(i.product.Name),t.R7$(3),t.JRh(i.product.price),t.R7$(2),t.JRh(i.product.PriceBeforeDiscount),t.R7$(5),t.JRh(i.product.Rating),t.R7$(8),t.SpI("",r.Discount(i.product.price,i.product.PriceBeforeDiscount),"%")}}function _(n,g){if(1&n&&(t.j41(0,"div",4)(1,"div",5),t.DNE(2,c,27,9,"div",6),t.k0s()()),2&n){const i=t.XpG();t.R7$(2),t.Y8G("ngForOf",i.Wishlist)}}function v(n,g){1&n&&(t.j41(0,"h3",24),t.EFF(1,"WishList Is Empty"),t.k0s())}let f=(()=>{class n{constructor(i,r,o,h,C){this._ProductService=i,this._Router=r,this._Renderer2=o,this.toastr=h,this._Spinner=C,this.Wishlist=[],this.Quantity=0}ngOnInit(){this._Spinner.show(),this._ProductService.GetFavProducts().subscribe({next:i=>{this.Wishlist=i.data.items,console.log(this.Wishlist),this._Spinner.hide()},error:i=>{console.log(i)}})}Discount(i,r){if(0===r)throw new Error("PriceBeforeDiscount cannot be zero.");return Math.trunc(100-i/r*100)}AddToCart(i,r){this.Quantity++,this._Renderer2.setAttribute(r,"disabled","true"),this._ProductService.AddProductToCart(i,this.Quantity).subscribe({next:o=>{this.toastr.success("Click to go to cart",o.message).onTap.subscribe(()=>{this._Router.navigate(["/cart"])}),"Product added successfully"===o.message&&(this._ProductService.CartItems.next(o.totalQuantity),console.log(this._ProductService.CartItems))},error:o=>{"Not authorized, token failed"===o.message&&this._Router.navigate(["/login"])}})}RemoveFromFav(i){this._Spinner.show(),this._ProductService.RemoveProductFromFav(i).subscribe({next:r=>{this.Wishlist=r.data.items,this._Spinner.hide(),0===this.Wishlist.length&&this._Router.navigate(["/home"])},error:r=>{"Not authorized, token failed"===r.message&&this._Router.navigate(["/login"])}})}static#t=this.\u0275fac=function(r){return new(r||n)(t.rXU(p.b),t.rXU(d.Ix),t.rXU(t.sFG),t.rXU(l.tw),t.rXU(m.D))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-wishlist"]],standalone:!0,features:[t.aNF],decls:6,vars:2,consts:[["Empty",""],["btn",""],[1,"my-5","container"],["class","mt-5",4,"ngIf","ngIfElse"],[1,"mt-5"],[1,"d-flex","flex-wrap","justify-content-center","align-items-center","flex-wrap"],["style","position: relative",4,"ngFor","ngForOf"],[2,"position","relative"],[1,"product",2,"position","relative"],[3,"routerLink"],[1,"w-100","h-100"],["alt","Sunset Over the Sea",1,"card-img-top","product-img",3,"src"],[1,"card-body","mt-2"],[1,"d-flex","align-items-center"],[1,"text-muted","mx-2","text-decoration-line-through"],[1,"d-flex","justify-content-between","align-items-center"],[1,"fa-solid","fa-star","rating"],[1,"mx-2"],[1,"ToCart"],[1,"w-100","btn","btn-danger",3,"click"],[1,"fa-solid","fa-cart-plus"],[1,"d-flex","justify-content-between","align-items-center","p-3","w-100",2,"position","absolute","top","0"],[1,"bg-danger","text-white","px-2"],[1,"fa-solid","fa-trash",2,"cursor","pointer","color","red",3,"click"],[1,"text-center"]],template:function(r,o){if(1&r&&(t.j41(0,"section",2)(1,"h2"),t.EFF(2,"WishList"),t.k0s(),t.DNE(3,_,3,1,"div",3)(4,v,2,0,"ng-template",null,0,t.C5r),t.k0s()),2&r){const h=t.sdS(5);t.R7$(3),t.Y8G("ngIf",o.Wishlist.length>0)("ngIfElse",h)}},dependencies:[a.MD,a.Sq,a.bT,d.iI,d.Wk]})}return n})()},4705:(P,u,s)=>{s.d(u,{b:()=>p});var a=s(1626),d=s(4412),t=s(4438);let p=(()=>{class l{constructor(e){this._HttpClient=e,this.Token=`Bearer ${localStorage.getItem("token")}`,this.CartItems=new d.t(0)}GetAllProduct(e=8,c=1){return this._HttpClient.get(`https://web-api-ecommerce-byahmedsafwat.vercel.app/api/v1/Product?page=${c}&limit=${e}`)}filterProduct(e=null,c="",_=null,v=null,f=null){return this._HttpClient.get(`https://web-api-ecommerce-byahmedsafwat.vercel.app/api/v1/Product?name=${e}&categoryName=${c}&brandName=${_}&maxPrice=${v}&minPrice=${f}`)}SearchProducts(e){return this._HttpClient.get(`https://web-api-ecommerce-byahmedsafwat.vercel.app/api/v1/Product?name=${e}`)}GetSaleProduct(e,c){return this._HttpClient.get(`https://web-api-ecommerce-byahmedsafwat.vercel.app/api/v1/Product/sale/discount?page=${c||1}&limit=${e||8}`)}GetBestseller(){return this._HttpClient.get("https://web-api-ecommerce-byahmedsafwat.vercel.app/api/v1/Product/best/seller?limit=4")}GetAllCategories(){return this._HttpClient.get("https://web-api-ecommerce-byahmedsafwat.vercel.app/api/v1/categories")}GetCategoryBrand(e){return this._HttpClient.get(`https://web-api-ecommerce-byahmedsafwat.vercel.app/api/v1/Categorybrands/${e}`)}GetCategoryProducts(e){return this._HttpClient.get(`https://web-api-ecommerce-byahmedsafwat.vercel.app/api/v1/Product?categoryName=${e}`)}GetAllBrands(){return this._HttpClient.get("https://web-api-ecommerce-byahmedsafwat.vercel.app/api/v1/Brand")}GetProductDetails(e){return this._HttpClient.get(`https://web-api-ecommerce-byahmedsafwat.vercel.app/api/v1/Product/${e}`)}GetRelatedProduct(e){return this._HttpClient.get(`https://web-api-ecommerce-byahmedsafwat.vercel.app/api/v1/product/related/${e}`)}AddProductToCart(e,c){return this._HttpClient.post("https://web-api-ecommerce-byahmedsafwat.vercel.app/api/v1/Cart/",{},{headers:new a.Lr({Authorization:this.Token,productid:e,quantity:c.toString()})})}GetCartProducts(){return this._HttpClient.get("https://web-api-ecommerce-byahmedsafwat.vercel.app/api/v1/Cart/",{headers:new a.Lr({Authorization:this.Token})})}RemoveCartProducts(e){return this._HttpClient.delete("https://web-api-ecommerce-byahmedsafwat.vercel.app/api/v1/Cart/",{headers:new a.Lr({Authorization:this.Token,ProductId:e})})}AddProductToFav(e){return this._HttpClient.post("https://web-api-ecommerce-byahmedsafwat.vercel.app/api/v1/Wishlist",{},{headers:new a.Lr({Authorization:this.Token,productid:e})})}RemoveProductFromFav(e){return this._HttpClient.delete("  https://web-api-ecommerce-byahmedsafwat.vercel.app/api/v1/Wishlist/",{headers:new a.Lr({Authorization:this.Token,productid:e})})}GetFavProducts(){return this._HttpClient.get("https://web-api-ecommerce-byahmedsafwat.vercel.app/api/v1/Wishlist/",{headers:new a.Lr({Authorization:this.Token})})}GetOrdersProducts(){return this._HttpClient.get("https://web-api-ecommerce-byahmedsafwat.vercel.app/api/v1/Cart/ConfirmedOders",{headers:new a.Lr({Authorization:this.Token})})}static#t=this.\u0275fac=function(c){return new(c||l)(t.KVO(a.Qq))};static#e=this.\u0275prov=t.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})()},231:(P,u,s)=>{s.d(u,{D:()=>t});var a=s(4438),d=s(6554);let t=(()=>{class p{constructor(m){this.spinner=m}show(){this.spinner.show()}hide(){this.spinner.hide()}static#t=this.\u0275fac=function(e){return new(e||p)(a.KVO(d.ex))};static#e=this.\u0275prov=a.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})()}}]);